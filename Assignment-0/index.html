<!DOCTYPE html>
<html>
	<head>
	<meta charset="ISO-8859-1">
		<title>Network Security: Practical Assignment-0</title>
		<link rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
			integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
			crossorigin="anonymous">
	</head>
	<body>
		<div id="main-wrapper" >
			<div class="container align-self-center col-lg-4 border border-info my-5" style="background-color:yellow;" >
				<div class="row">
					<div class="col-lg-8 offset-lg-2 d-flex justify-content-center text-center border-bottom border-info">
						<h2 class="m-3 ">Encipher-Decipher</h2>
					</div>
				</div>
				<div class="row">
					<div class="col">
						<form action="" method="post" class="m-3">
							<div class="form-group">
								<label>Plain Text</label>
								<textarea type="textarea" id="plainText" placeholder="Enter Plain text to encrypt" class="form-control"></textarea>
							</div>
							<div class="text-center"><img src="img/doublearrow.png" height="40px"></div>
							<div class="form-group">
								<label>Cypher Text</label>
								<textarea type="textarea" id="cypherText" placeholder="Enter Cypher text to decrypt" class="form-control"></textarea>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
			integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
			crossorigin="anonymous"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
			crossorigin="anonymous"></script>

		<script>
			// JS Script for encryption and decryption as with live input

			// Function to check if a character is lowercase english alphabet
			function isLower(ch){
				return (ch>='a' && ch<='z')
			}

			// Function to check if a character is uppercase english alphabet
			function isUpper(ch){
				return (ch>='A' && ch<='Z')
			}

			// Function to encypher/decypher a string inputText
			function transform(inputText){

				outputText=""

				for (var i = 0; i < inputText.length; i++) {

					// change a->z , b->y, ..., z->a
					if(isLower(inputText[i])) 
					{
						let num = 'z'.charCodeAt()-inputText[i].charCodeAt()
						console.log(num)
						let new_num = (num+97)
						console.log(new_num)
						outputText+= String.fromCharCode(new_num)
					}

					// change A->Z , B->Y, ..., Z->A
					else if(isUpper(inputText[i])) 
					{
						let num = 'Z'.charCodeAt()-inputText[i].charCodeAt()
						console.log(num)
						let new_num = (num + 65)
						console.log(new_num)
						outputText+= String.fromCharCode(new_num)
					}

					// leave non english alphabets unchanged
					else outputText+=inputText[i]
				}  

				return outputText
			}


			plain=document.getElementById("plainText") //plain text input box

			cypher=document.getElementById("cypherText") // cypher text input box

			// Function to be called for encrypting plain text
			function encrypt(e) {
				plainText=e.target.value;
				cypherText=transform(plainText)
				cypher.value=cypherText
			}

			// Function to be called for decrypting cypher text
			function decrypt(e) {
				cypherText=e.target.value;
				plainText=transform(cypherText)
				plain.value=plainText
			}

			plain.oninput=encrypt // Call encrypt function when there is plain text input
			cypher.oninput=decrypt  // Call decrypt function when there is cypher text input
			
		</script>
	</body>
</html>
